#!/bin/bash
# This script uploads a list of files to a server
# and then prints their urls for sharing.

UPLOAD_PATH="webfaction:~/webapps/files_nullreff_net/"
URL_PATH="http://files.nullreff.net"

scp "$@" $UPLOAD_PATH
echo "---"
for FILE in "$@"; do
    URL_NAME=`echo $FILE | perl -p -e 's/([^A-Za-z0-9\.\-_\r\n])/sprintf("%%%02X", ord($1))/seg'`
    echo "$URL_PATH/$URL_NAME"
done
